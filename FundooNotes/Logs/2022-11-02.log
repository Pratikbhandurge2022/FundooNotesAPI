2022-11-02 19:52:02.1799 DEBUG Hosting starting
2022-11-02 19:52:02.2821 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 19:52:02.2821 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 19:52:02.3108 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 19:52:02.3205 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 19:52:02.3638 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 19:52:02.3638 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 19:52:02.3638 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 19:52:02.3638 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 19:52:02.3638 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 19:52:02.3638 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 19:52:02.3638 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 19:52:02.6779 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 19:52:02.6779 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 19:52:02.6779 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 19:52:02.6779 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 19:52:02.6779 INFO Hosting environment: Development
2022-11-02 19:52:02.6779 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 19:52:02.6779 DEBUG Hosting started
2022-11-02 19:52:02.7814 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 19:52:02.8263 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 19:52:02.8263 TRACE All hosts are allowed.
2022-11-02 19:52:02.8689 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 19:52:02.8689 DEBUG Request did not match any endpoints
2022-11-02 19:52:03.0570 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 19:52:03.1113 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 19:52:03.2968 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 19:52:03.3020 INFO Request finished in 519.9751ms 200 text/html;charset=utf-8
2022-11-02 19:52:03.4009 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 19:52:03.4075 INFO Request finished in 6.539ms 200 application/javascript; charset=utf-8
2022-11-02 19:52:03.4075 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 19:52:03.4684 INFO Request finished in 54.3145ms 200 text/javascript; charset=UTF-8
2022-11-02 19:52:04.3316 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 19:52:04.3316 TRACE All hosts are allowed.
2022-11-02 19:52:04.3316 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 19:52:04.3316 DEBUG Request did not match any endpoints
2022-11-02 19:52:04.3316 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 19:52:04.4611 INFO Request finished in 129.5291ms 200 application/json;charset=utf-8
2022-11-02 19:59:15.7871 DEBUG Hosting starting
2022-11-02 19:59:15.8756 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 19:59:15.8963 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 19:59:15.9108 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 19:59:15.9269 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 19:59:15.9819 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 19:59:15.9819 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 19:59:15.9864 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 19:59:15.9864 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 19:59:15.9864 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 19:59:15.9864 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 19:59:15.9864 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 19:59:16.3208 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 19:59:16.3208 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 19:59:16.3208 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 19:59:16.3208 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 19:59:16.3208 INFO Hosting environment: Development
2022-11-02 19:59:16.3208 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 19:59:16.3208 DEBUG Hosting started
2022-11-02 19:59:16.3677 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 19:59:16.3987 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 19:59:16.3987 TRACE All hosts are allowed.
2022-11-02 19:59:16.4182 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 19:59:16.4182 DEBUG Request did not match any endpoints
2022-11-02 19:59:16.5070 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 19:59:16.5545 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 19:59:16.6904 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 19:59:16.6904 INFO Request finished in 327.8321ms 200 text/html;charset=utf-8
2022-11-02 19:59:16.7118 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 19:59:16.7232 INFO Request finished in 11.4188ms 200 application/javascript; charset=utf-8
2022-11-02 19:59:16.7535 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 19:59:16.7849 INFO Request finished in 31.4635ms 200 text/javascript; charset=UTF-8
2022-11-02 19:59:17.1080 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 19:59:17.1080 TRACE All hosts are allowed.
2022-11-02 19:59:17.1104 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 19:59:17.1104 DEBUG Request did not match any endpoints
2022-11-02 19:59:17.1104 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 19:59:17.2775 INFO Request finished in 169.5997ms 200 application/json;charset=utf-8
2022-11-02 20:16:55.6676 DEBUG Hosting starting
2022-11-02 20:16:55.7536 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:16:55.7699 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:16:55.7854 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:16:55.7980 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:16:55.8418 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:16:55.8418 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:16:55.8450 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:16:55.8450 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:16:55.8450 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:16:55.8450 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:16:55.8450 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:16:56.1326 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:16:56.1326 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:16:56.1326 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:16:56.1326 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:16:56.1326 INFO Hosting environment: Development
2022-11-02 20:16:56.1326 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:16:56.1326 DEBUG Hosting started
2022-11-02 20:16:56.1820 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:16:56.2083 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:16:56.2083 TRACE All hosts are allowed.
2022-11-02 20:16:56.2348 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:16:56.2351 DEBUG Request did not match any endpoints
2022-11-02 20:16:56.3362 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:16:56.3804 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:16:56.5043 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:16:56.5043 INFO Request finished in 325.8152ms 200 text/html;charset=utf-8
2022-11-02 20:16:56.5325 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:16:56.5325 INFO Request finished in 3.4255ms 200 application/javascript; charset=utf-8
2022-11-02 20:16:56.5560 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:16:56.5839 INFO Request finished in 27.8423ms 200 text/javascript; charset=UTF-8
2022-11-02 20:16:56.8024 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:16:56.8024 TRACE All hosts are allowed.
2022-11-02 20:16:56.8024 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:16:56.8024 DEBUG Request did not match any endpoints
2022-11-02 20:16:56.8024 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:16:56.9730 INFO Request finished in 170.7103ms 200 application/json;charset=utf-8
2022-11-02 20:17:27.4042 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/Register application/json 91
2022-11-02 20:17:27.4042 TRACE All hosts are allowed.
2022-11-02 20:17:27.4181 DEBUG 1 candidate(s) found for the request path '/api/Users/Register'
2022-11-02 20:17:27.4181 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)' with route pattern 'api/Users/Register' is valid for the request path '/api/Users/Register'
2022-11-02 20:17:27.4181 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 20:17:27.4237 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:17:27.4237 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:17:27.4237 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 20:17:27.4237 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:17:27.4556 INFO Route matched with {action = "AddUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddUser(CommonLayer.Models.UserRegistration) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:17:27.4556 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:17:27.4556 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:17:27.4556 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:17:27.4556 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:17:27.4556 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:17:27.4556 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:17:27.6230 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:17:27.6446 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:17:27.6446 DEBUG Attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' ...
2022-11-02 20:17:27.6446 DEBUG Attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' using the name '' in request data ...
2022-11-02 20:17:27.6446 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:17:27.6629 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.UserRegistration'
2022-11-02 20:17:27.6629 DEBUG Done attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 20:17:27.6629 DEBUG Done attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 20:17:27.6629 DEBUG Attempting to validate the bound parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' ...
2022-11-02 20:17:27.6629 DEBUG Done attempting to validate the bound parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 20:17:27.6629 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:17:27.6629 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:17:27.6629 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:17:27.6629 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:17:27.6629 INFO Executing action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes) - Validation state: Valid
2022-11-02 20:17:27.6629 TRACE Executing action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes) with arguments (CommonLayer.Models.UserRegistration)
2022-11-02 20:17:28.1009 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:17:28.1363 DEBUG 'UserContext' generated a temporary value for the 'UserId' property of new 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:17:28.1878 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:17:28.1894 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:17:28.1894 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:17:28.1894 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:17:28.3348 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:17:29.6037 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:17:29.6037 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:17:29.6157 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:17:29.6526 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:17:29.6526 DEBUG Created DbCommand for 'ExecuteReader' (2ms).
2022-11-02 20:17:29.6720 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [LastName], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-11-02 20:17:29.8126 INFO Executed DbCommand (146ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [LastName], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-11-02 20:17:29.8305 DEBUG Foreign key property 'UserEntity.UserId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-11-02 20:17:29.8305 DEBUG A data reader was disposed.
2022-11-02 20:17:29.8305 DEBUG Committing transaction.
2022-11-02 20:17:29.8305 DEBUG Committing transaction.
2022-11-02 20:17:29.8449 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:17:29.8449 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:17:29.8449 DEBUG Disposing transaction.
2022-11-02 20:17:29.8449 DEBUG An 'UserEntity' entity tracked by 'UserContext' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:17:29.8449 DEBUG SaveChanges completed for 'UserContext' with 1 entities written to the database.
2022-11-02 20:17:29.8449 INFO Registration is sucess
2022-11-02 20:17:29.8609 INFO Executed action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2186.0043ms.
2022-11-02 20:17:29.8609 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:17:29.8609 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:17:29.8609 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:17:29.8609 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:17:29.8609 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:17:29.8609 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:17:29.8609 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:17:29.8609 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:17:29.8609 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:17:29.8609 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:17:29.8609 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:17:29.8609 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:17:29.8609 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[RepositoryLayer.Entity.UserEntity, RepositoryLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-02 20:17:29.8754 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:17:29.8754 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:17:29.8754 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:17:29.8754 INFO Executed action FundooNotes.Controllers.UsersController.AddUser (FundooNotes) in 2419.5631ms
2022-11-02 20:17:29.8754 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 20:17:29.8754 DEBUG 'UserContext' disposed.
2022-11-02 20:17:29.8754 INFO Request finished in 2481.7595ms 200 application/json; charset=utf-8
2022-11-02 20:20:53.7475 DEBUG Hosting starting
2022-11-02 20:20:53.9123 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:20:53.9249 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:20:53.9249 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:20:53.9463 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:20:53.9980 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:20:53.9980 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:20:53.9980 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:20:54.0021 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:20:54.0021 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:20:54.0021 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:20:54.0021 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:20:54.2367 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:20:54.2367 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:20:54.2367 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:20:54.2367 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:20:54.2367 INFO Hosting environment: Development
2022-11-02 20:20:54.2367 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:20:54.2367 DEBUG Hosting started
2022-11-02 20:20:54.2877 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:20:54.3171 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:20:54.3171 TRACE All hosts are allowed.
2022-11-02 20:20:54.3367 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:20:54.3367 DEBUG Request did not match any endpoints
2022-11-02 20:20:54.4342 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:20:54.4738 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:20:54.5912 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:20:54.5952 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:20:54.5952 INFO Request finished in 308.5552ms 200 text/html;charset=utf-8
2022-11-02 20:20:54.5952 INFO Request finished in 3.6857ms 200 application/javascript; charset=utf-8
2022-11-02 20:20:54.6273 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:20:54.6545 INFO Request finished in 27.213ms 200 text/javascript; charset=UTF-8
2022-11-02 20:20:54.8689 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:20:54.8689 TRACE All hosts are allowed.
2022-11-02 20:20:54.8689 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:20:54.8689 DEBUG Request did not match any endpoints
2022-11-02 20:20:54.8689 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:20:54.9753 INFO Request finished in 106.1794ms 200 application/json;charset=utf-8
2022-11-02 20:22:41.2850 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/Register application/json 96
2022-11-02 20:22:41.2850 TRACE All hosts are allowed.
2022-11-02 20:22:41.2850 DEBUG 1 candidate(s) found for the request path '/api/Users/Register'
2022-11-02 20:22:41.2850 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)' with route pattern 'api/Users/Register' is valid for the request path '/api/Users/Register'
2022-11-02 20:22:41.2850 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 20:22:41.2850 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:22:41.2850 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:22:41.2850 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 20:22:41.3010 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:22:41.3258 INFO Route matched with {action = "AddUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddUser(CommonLayer.Models.UserRegistration) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:22:41.3258 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:22:41.3258 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:22:41.3258 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:22:41.3258 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:22:41.3258 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:22:41.3258 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:22:41.4572 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:22:41.4714 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:22:41.4714 DEBUG Attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' ...
2022-11-02 20:22:41.4714 DEBUG Attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' using the name '' in request data ...
2022-11-02 20:22:41.4714 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:22:41.4854 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.UserRegistration'
2022-11-02 20:22:41.4854 DEBUG Done attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 20:22:41.4854 DEBUG Done attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 20:22:41.4854 DEBUG Attempting to validate the bound parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' ...
2022-11-02 20:22:41.4854 DEBUG Done attempting to validate the bound parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 20:22:41.4854 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:22:41.4854 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:22:41.4854 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:22:41.4854 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:22:41.4854 INFO Executing action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes) - Validation state: Valid
2022-11-02 20:22:41.4854 TRACE Executing action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes) with arguments (CommonLayer.Models.UserRegistration)
2022-11-02 20:22:41.9298 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:22:41.9585 DEBUG 'UserContext' generated a temporary value for the 'UserId' property of new 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:22:42.0009 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:22:42.0020 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:22:42.0020 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:22:42.0020 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:22:42.1485 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:22:42.3575 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:22:42.3575 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:22:42.3666 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:22:42.4046 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:22:42.4097 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2022-11-02 20:22:42.4272 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [LastName], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-11-02 20:22:42.4691 INFO Executed DbCommand (51ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [LastName], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-11-02 20:22:42.4880 DEBUG Foreign key property 'UserEntity.UserId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-11-02 20:22:42.4880 DEBUG A data reader was disposed.
2022-11-02 20:22:42.4880 DEBUG Committing transaction.
2022-11-02 20:22:42.5020 DEBUG Committing transaction.
2022-11-02 20:22:42.5020 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:22:42.5020 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:22:42.5020 DEBUG Disposing transaction.
2022-11-02 20:22:42.5020 DEBUG An 'UserEntity' entity tracked by 'UserContext' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:22:42.5166 DEBUG SaveChanges completed for 'UserContext' with 1 entities written to the database.
2022-11-02 20:22:42.5166 INFO Registration is sucess
2022-11-02 20:22:42.5166 INFO Executed action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1022.8615ms.
2022-11-02 20:22:42.5166 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:22:42.5166 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:22:42.5166 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:22:42.5166 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:22:42.5166 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:22:42.5166 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:22:42.5166 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:22:42.5166 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:22:42.5166 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:22:42.5166 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:22:42.5166 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:22:42.5166 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:22:42.5166 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[RepositoryLayer.Entity.UserEntity, RepositoryLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-02 20:22:42.5166 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:22:42.5166 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:22:42.5166 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:22:42.5321 INFO Executed action FundooNotes.Controllers.UsersController.AddUser (FundooNotes) in 1202.9715ms
2022-11-02 20:22:42.5321 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 20:22:42.5321 DEBUG 'UserContext' disposed.
2022-11-02 20:22:42.5321 INFO Request finished in 1252.6352ms 200 application/json; charset=utf-8
2022-11-02 20:24:18.3058 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 57
2022-11-02 20:24:18.3058 TRACE All hosts are allowed.
2022-11-02 20:24:18.3058 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:24:18.3058 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:24:18.3058 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:24:18.3058 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:24:18.3058 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:24:18.3058 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:24:18.3345 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:24:18.3345 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:24:18.3345 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:24:18.3345 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:24:18.3345 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:24:18.3345 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:24:18.3345 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:24:18.3345 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:24:18.3446 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:24:18.3446 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:24:18.3446 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:24:18.3446 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:24:18.3446 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:24:18.3446 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:24:18.3446 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:24:18.3446 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:24:18.3446 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:18.3446 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:18.3446 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:18.3446 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:18.3446 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:24:18.3446 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:24:18.4200 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:24:18.5827 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 20:24:18.5998 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:24:18.5998 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:24:18.5998 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:18.5998 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:18.5998 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:24:18.6607 INFO Executed DbCommand (60ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:24:18.6607 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:24:18.6607 DEBUG A data reader was disposed.
2022-11-02 20:24:18.6607 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:18.6607 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:18.8370 INFO Login is sucess
2022-11-02 20:24:18.8370 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 489.55ms.
2022-11-02 20:24:18.8370 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:18.8370 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:18.8370 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:18.8370 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:18.8370 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:18.8370 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:18.8370 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:24:18.8370 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:24:18.8370 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:24:18.8370 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:24:18.8370 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:24:18.8370 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:24:18.8370 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:24:18.8370 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:24:18.8370 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:18.8370 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:18.8370 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 505.912ms
2022-11-02 20:24:18.8370 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:24:18.8370 DEBUG 'UserContext' disposed.
2022-11-02 20:24:18.8370 INFO Request finished in 535.8251ms 200 application/json; charset=utf-8
2022-11-02 20:24:54.3990 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 225
2022-11-02 20:24:54.4298 TRACE All hosts are allowed.
2022-11-02 20:24:54.4298 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:24:54.4298 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:24:54.4298 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:24:54.4929 INFO Successfully validated the token.
2022-11-02 20:24:54.4929 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:24:54.4929 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:24:54.4929 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:24:54.4929 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:24:54.4929 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:24:54.4929 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:24:54.4929 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:24:54.4929 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:24:54.4929 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:24:54.4929 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:24:54.5024 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:24:54.5024 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:24:54.5024 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:24:54.5024 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:24:54.5024 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:24:54.5024 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:24:54.5024 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:24:54.5024 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:24:54.5024 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:24:54.5024 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:54.5024 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:54.5024 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:54.5024 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:54.5024 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:24:54.5024 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:24:54.5176 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:24:54.5176 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:24:54.5332 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:24:54.5332 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:24:54.5332 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:24:54.5332 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:24:54.5332 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:54.5332 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:54.5332 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:24:54.5332 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:24:54.5332 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:24:54.5332 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:24:54.5332 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:24:54.5722 ERROR Failed executing DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:24:54.5722 DEBUG Disposing transaction.
2022-11-02 20:24:54.5722 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:54.5722 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:24:54.6409 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:1d2cdfaa-cf38-4604-ba86-1ea4b8946594
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:24:54.8842 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 373.3557ms.
2022-11-02 20:24:54.8842 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:54.8842 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:24:54.8842 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:54.8842 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:24:54.8842 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:54.8842 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:54.8842 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:24:54.8842 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:24:54.8842 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:24:54.8842 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:24:54.8842 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:24:54.8842 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:24:54.8842 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:24:54.8842 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:24:54.8842 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:54.8842 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:24:54.8842 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 391.0266ms
2022-11-02 20:24:54.8842 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:24:54.8980 DEBUG 'UserContext' disposed.
2022-11-02 20:24:54.8980 INFO Request finished in 500.3835ms 400 application/json; charset=utf-8
2022-11-02 20:26:02.7550 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 20:26:02.7817 TRACE All hosts are allowed.
2022-11-02 20:26:02.7817 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:26:02.7817 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:26:02.7817 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:26:02.7817 INFO Successfully validated the token.
2022-11-02 20:26:02.7817 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:26:02.7817 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:26:02.7817 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:26:02.7817 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:26:02.7817 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:26:02.7817 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:26:02.7817 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:26:02.7817 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:26:02.7817 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:26:02.7817 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:26:02.7817 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:26:02.7817 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:26:02.7817 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:26:02.7817 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:26:02.7817 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:26:02.7817 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:26:02.7817 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:26:02.7817 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:26:02.7817 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:26:02.7817 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:02.7817 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:02.7817 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:02.7817 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:02.7817 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:26:02.7817 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:26:02.7817 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:26:02.7983 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:26:02.7983 DEBUG Created DbCommand for 'ExecuteReader' (1ms).
2022-11-02 20:26:02.7983 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:02.7983 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:02.7983 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:26:02.8712 INFO Executed DbCommand (72ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:26:02.8712 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:26:02.8712 DEBUG A data reader was disposed.
2022-11-02 20:26:02.8712 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:02.8712 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:02.8712 INFO Login is sucess
2022-11-02 20:26:02.8712 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 80.5841ms.
2022-11-02 20:26:02.8712 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:02.8712 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:02.8712 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:02.8712 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:02.8712 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:02.8712 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:02.8712 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:26:02.8712 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:26:02.8712 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:26:02.8712 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:26:02.8712 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:26:02.8712 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:26:02.8712 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:26:02.8757 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:26:02.8757 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:02.8757 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:02.8757 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 87.0826ms
2022-11-02 20:26:02.8757 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:26:02.8757 DEBUG 'UserContext' disposed.
2022-11-02 20:26:02.8757 INFO Request finished in 121.7443ms 200 application/json; charset=utf-8
2022-11-02 20:26:09.5187 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 20:26:09.5187 TRACE All hosts are allowed.
2022-11-02 20:26:09.5187 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:26:09.5187 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:26:09.5187 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:26:09.5187 INFO Successfully validated the token.
2022-11-02 20:26:09.5187 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:26:09.5187 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:26:09.5187 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:26:09.5187 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:26:09.5187 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:26:09.5187 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:26:09.5187 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:26:09.5187 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:26:09.5187 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:26:09.5187 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:26:09.5187 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:26:09.5187 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:26:09.5187 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:26:09.5187 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:26:09.5187 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:26:09.5187 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:26:09.5187 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:26:09.5187 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:26:09.5187 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:26:09.5187 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:09.5187 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:09.5187 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:09.5187 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:09.5187 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:26:09.5187 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:26:09.5187 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:26:09.5187 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:26:09.5187 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:26:09.5187 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:09.5187 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:09.5187 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:26:09.5187 INFO Executed DbCommand (2ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:26:09.5187 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:26:09.5187 DEBUG A data reader was disposed.
2022-11-02 20:26:09.5187 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:09.5187 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:09.5322 INFO Login is sucess
2022-11-02 20:26:09.5322 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.2608ms.
2022-11-02 20:26:09.5322 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:09.5322 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:09.5322 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:09.5322 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:09.5322 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:09.5322 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:09.5322 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:26:09.5322 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:26:09.5322 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:26:09.5322 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:26:09.5322 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:26:09.5322 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:26:09.5322 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:26:09.5322 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:26:09.5322 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:09.5322 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:09.5322 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 10.4474ms
2022-11-02 20:26:09.5322 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:26:09.5322 DEBUG 'UserContext' disposed.
2022-11-02 20:26:09.5322 INFO Request finished in 15.6297ms 200 application/json; charset=utf-8
2022-11-02 20:26:30.1648 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 230
2022-11-02 20:26:30.1648 TRACE All hosts are allowed.
2022-11-02 20:26:30.1648 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:26:30.1648 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:26:30.1648 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:26:30.1648 INFO Successfully validated the token.
2022-11-02 20:26:30.1648 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:26:30.1648 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:26:30.1648 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:26:30.1648 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:26:30.1648 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:26:30.1648 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:26:30.1648 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:26:30.1648 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:26:30.1648 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:26:30.1648 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:26:30.1738 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:26:30.1738 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:26:30.1738 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:26:30.1738 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:26:30.1738 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:26:30.1738 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:26:30.1738 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:26:30.1738 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:26:30.1738 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:26:30.1738 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:30.1738 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:30.1738 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:30.1738 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:30.1738 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:26:30.1738 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:26:30.1738 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:26:30.1738 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:26:30.1738 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:26:30.1738 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:26:30.1738 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:26:30.1738 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:26:30.1738 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:30.1738 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:30.1738 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:26:30.1738 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:26:30.1880 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:26:30.1880 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:26:30.1880 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:26:30.2643 ERROR Failed executing DbCommand (76ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:26:30.2643 DEBUG Disposing transaction.
2022-11-02 20:26:30.2643 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:30.2643 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:26:30.2662 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:1d2cdfaa-cf38-4604-ba86-1ea4b8946594
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:26:30.3888 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 205.2294ms.
2022-11-02 20:26:30.3888 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:30.3888 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:26:30.3888 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:30.3888 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:26:30.3888 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:30.3888 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:30.3888 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:26:30.3888 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:26:30.3888 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:26:30.3888 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:26:30.3888 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:26:30.3888 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:26:30.3888 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:26:30.3888 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:26:30.3888 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:30.3888 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:26:30.3915 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 219.0972ms
2022-11-02 20:26:30.3915 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:26:30.3915 DEBUG 'UserContext' disposed.
2022-11-02 20:26:30.3915 INFO Request finished in 229.1581ms 400 application/json; charset=utf-8
2022-11-02 20:29:30.3950 DEBUG Hosting starting
2022-11-02 20:29:30.4942 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:29:30.5172 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:29:30.5172 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:29:30.5375 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:29:30.5801 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:29:30.5801 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:29:30.5801 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:29:30.5801 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:29:30.5801 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:29:30.5801 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:29:30.5801 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:29:30.8579 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:29:30.8579 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:29:30.8579 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:29:30.8579 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:29:30.8579 INFO Hosting environment: Development
2022-11-02 20:29:30.8579 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:29:30.8579 DEBUG Hosting started
2022-11-02 20:29:30.9171 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:29:30.9439 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:29:30.9439 TRACE All hosts are allowed.
2022-11-02 20:29:30.9637 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:29:30.9637 DEBUG Request did not match any endpoints
2022-11-02 20:29:31.0665 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:29:31.1122 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:29:31.2421 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:29:31.2421 INFO Request finished in 329.8949ms 200 text/html;charset=utf-8
2022-11-02 20:29:31.2592 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:29:31.2720 INFO Request finished in 12.7976ms 200 application/javascript; charset=utf-8
2022-11-02 20:29:31.3197 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:29:31.3442 INFO Request finished in 24.42ms 200 text/javascript; charset=UTF-8
2022-11-02 20:29:32.1326 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:29:32.1326 TRACE All hosts are allowed.
2022-11-02 20:29:32.1326 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:29:32.1326 DEBUG Request did not match any endpoints
2022-11-02 20:29:32.1326 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:29:32.3394 INFO Request finished in 207.3783ms 200 application/json;charset=utf-8
2022-11-02 20:29:54.0563 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 20:29:54.0563 TRACE All hosts are allowed.
2022-11-02 20:29:54.0659 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:29:54.0659 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:29:54.0659 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:29:54.0659 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:29:54.0659 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:29:54.0659 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:29:54.0659 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:29:54.1018 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:29:54.1018 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:29:54.1018 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:29:54.1018 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:29:54.1018 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:29:54.1018 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:29:54.1018 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:29:54.2275 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:29:54.2437 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:29:54.2437 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:29:54.2437 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:29:54.2511 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:29:54.2511 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:29:54.2511 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:29:54.2511 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:29:54.2511 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:29:54.2511 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:29:54.2511 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:29:54.2511 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:29:54.2511 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:29:54.2511 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:29:54.2511 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:29:54.2511 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:29:54.7132 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:29:54.8817 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 20:29:54.9027 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:29:55.0288 DEBUG Created DbCommand for 'ExecuteReader' (124ms).
2022-11-02 20:29:55.0364 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:29:55.1806 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:29:55.1916 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:29:55.2399 INFO Executed DbCommand (55ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:29:55.2748 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:29:55.2917 DEBUG A data reader was disposed.
2022-11-02 20:29:55.2917 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:29:55.2917 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:29:55.4420 INFO Login is sucess
2022-11-02 20:29:55.4420 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1178.391ms.
2022-11-02 20:29:55.4420 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:29:55.4420 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:29:55.4420 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:29:55.4420 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:29:55.4420 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:29:55.4420 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:29:55.4420 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:29:55.4420 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:29:55.4420 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:29:55.4420 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:29:55.4420 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:29:55.4420 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:29:55.4420 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:29:55.4420 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:29:55.4420 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:29:55.4420 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:29:55.4563 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 1349.9502ms
2022-11-02 20:29:55.4563 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:29:55.4563 DEBUG 'UserContext' disposed.
2022-11-02 20:29:55.4563 INFO Request finished in 1407.8049ms 200 application/json; charset=utf-8
2022-11-02 20:30:13.8171 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 231
2022-11-02 20:30:13.8171 TRACE All hosts are allowed.
2022-11-02 20:30:13.8171 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:30:13.8171 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:30:13.8171 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:30:13.8982 INFO Successfully validated the token.
2022-11-02 20:30:13.8982 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:30:13.8982 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:30:13.8982 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:30:13.8982 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:30:13.8982 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:30:13.8982 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:30:13.8982 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:30:13.8982 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:30:13.8982 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:30:13.8982 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:30:13.9104 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:30:13.9104 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:30:13.9104 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:30:13.9104 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:30:13.9104 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:30:13.9104 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:30:13.9104 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:30:13.9104 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:30:13.9239 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:30:13.9239 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:30:13.9239 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:30:13.9239 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:30:13.9239 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:30:13.9239 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:30:13.9239 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:31:49.3678 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:31:49.3886 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:31:49.4113 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:32:06.7092 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:32:06.7092 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:32:06.7306 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:32:06.7361 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:32:06.7361 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:32:06.7361 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:32:06.7361 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:32:06.7779 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:32:06.7779 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:32:06.7779 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:32:06.8198 ERROR Failed executing DbCommand (40ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:32:06.8198 DEBUG Disposing transaction.
2022-11-02 20:32:06.8198 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:32:06.8198 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:32:06.8804 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:093867d4-2e72-45f9-918f-36d867ae32cc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:34:10.4124 DEBUG Hosting starting
2022-11-02 20:34:10.4827 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:34:10.4921 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:34:10.4921 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:34:10.5059 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:34:10.5467 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:34:10.5481 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:34:10.5481 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:34:10.5481 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:34:10.5481 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:34:10.5481 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:34:10.5481 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:34:10.7658 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:34:10.7658 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:34:10.7658 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:34:10.7670 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:34:10.7670 INFO Hosting environment: Development
2022-11-02 20:34:10.7670 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:34:10.7670 DEBUG Hosting started
2022-11-02 20:34:10.8100 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:34:10.8343 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:34:10.8343 TRACE All hosts are allowed.
2022-11-02 20:34:10.8706 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:34:10.8706 DEBUG Request did not match any endpoints
2022-11-02 20:34:10.9415 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:34:10.9840 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:34:11.0831 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:34:11.0831 INFO Request finished in 277.1374ms 200 text/html;charset=utf-8
2022-11-02 20:34:11.0831 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:34:11.0988 INFO Request finished in 10.5275ms 200 application/javascript; charset=utf-8
2022-11-02 20:34:11.1217 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:34:11.1423 INFO Request finished in 20.5185ms 200 text/javascript; charset=UTF-8
2022-11-02 20:34:11.3842 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:34:11.3842 TRACE All hosts are allowed.
2022-11-02 20:34:11.3842 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:34:11.3842 DEBUG Request did not match any endpoints
2022-11-02 20:34:11.3842 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:34:11.5013 INFO Request finished in 115.3039ms 200 application/json;charset=utf-8
2022-11-02 20:35:02.0634 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 50
2022-11-02 20:35:02.0634 TRACE All hosts are allowed.
2022-11-02 20:35:02.0634 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:35:02.0634 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:35:02.0634 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:35:02.0634 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:35:02.0634 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:35:02.0634 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:35:02.0812 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:35:02.1013 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:35:02.1013 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:35:02.1013 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:35:02.1013 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:35:02.1013 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:35:02.1013 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:35:02.1013 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:35:02.1950 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:35:02.2088 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:35:02.2088 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:35:02.2088 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:35:02.2088 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:35:02.2232 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:35:02.2232 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:35:02.2232 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:35:02.2232 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:35:02.2232 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:35:02.2232 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:02.2232 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:02.2232 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:02.2232 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:02.2232 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:35:02.2232 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:35:02.6754 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:35:02.8214 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 20:35:02.8453 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:35:02.9411 DEBUG Created DbCommand for 'ExecuteReader' (94ms).
2022-11-02 20:35:02.9411 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:03.0759 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:03.0884 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:35:03.1345 INFO Executed DbCommand (55ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:35:03.1615 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:35:03.1779 DEBUG A data reader was disposed.
2022-11-02 20:35:03.1779 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:03.1779 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:03.3133 INFO Login is sucess
2022-11-02 20:35:03.3133 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1083.4306ms.
2022-11-02 20:35:03.3133 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:03.3133 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:03.3133 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:03.3133 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:03.3133 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:03.3133 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:03.3133 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:35:03.3133 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:35:03.3133 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:35:03.3133 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:35:03.3133 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:35:03.3133 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:35:03.3133 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:35:03.3133 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:35:03.3133 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:03.3133 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:03.3133 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 1220.1013ms
2022-11-02 20:35:03.3133 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:35:03.3133 DEBUG 'UserContext' disposed.
2022-11-02 20:35:03.3133 INFO Request finished in 1266.11ms 200 application/json; charset=utf-8
2022-11-02 20:35:23.7180 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 231
2022-11-02 20:35:23.7180 TRACE All hosts are allowed.
2022-11-02 20:35:23.7212 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:35:23.7212 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:35:23.7212 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:35:23.7766 INFO Successfully validated the token.
2022-11-02 20:35:23.7766 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:35:23.7766 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:35:23.7766 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:35:23.7853 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:35:23.7853 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:35:23.7853 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:35:23.7853 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:35:23.7853 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:35:23.7853 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:35:23.7853 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:35:23.7853 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:35:23.7853 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:35:23.7853 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:35:23.7853 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:35:23.7853 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:35:23.7853 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:35:23.7853 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:35:23.7853 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:35:23.7853 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:35:23.7853 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:23.7853 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:23.7853 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:23.7853 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:23.7853 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:35:23.7853 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:35:51.4632 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:35:51.4961 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:35:51.5169 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:35:51.5169 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:35:51.5169 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:35:51.5169 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:35:51.5349 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:51.5349 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:51.5349 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:35:51.5349 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:35:51.5745 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:35:51.5745 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:35:51.5745 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:35:51.5877 ERROR Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:35:51.5877 DEBUG Disposing transaction.
2022-11-02 20:35:51.5877 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:51.5877 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:35:51.6497 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:0dbd3ca5-b544-4b2e-ba2c-e9335280a590
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:35:51.7624 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 27968.6563ms.
2022-11-02 20:35:51.7624 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:51.7624 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:35:51.7624 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:51.7624 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:35:51.7624 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:51.7624 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:51.7624 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:35:51.7624 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:35:51.7624 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:35:51.7624 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:35:51.7624 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:35:51.7624 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:35:51.7624 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:35:51.7667 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:35:51.7667 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:51.7667 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:35:51.7667 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 27981.3953ms
2022-11-02 20:35:51.7667 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:35:51.7667 DEBUG 'UserContext' disposed.
2022-11-02 20:35:51.7667 INFO Request finished in 28051.3278ms 400 application/json; charset=utf-8
2022-11-02 20:40:41.2630 DEBUG Hosting starting
2022-11-02 20:40:41.3566 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:40:41.3677 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:40:41.3781 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:40:41.3781 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:40:41.4317 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:40:41.4317 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:40:41.4317 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:40:41.4317 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:40:41.4317 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:40:41.4401 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:40:41.4401 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:40:41.6991 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:40:41.6991 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:40:41.6991 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:40:41.6991 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:40:41.6991 INFO Hosting environment: Development
2022-11-02 20:40:41.6991 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:40:41.6991 DEBUG Hosting started
2022-11-02 20:40:41.7661 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:40:41.7929 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:40:41.7929 TRACE All hosts are allowed.
2022-11-02 20:40:41.8114 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:40:41.8114 DEBUG Request did not match any endpoints
2022-11-02 20:40:41.9072 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:40:41.9531 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:40:42.0575 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:40:42.0575 INFO Request finished in 297.7663ms 200 text/html;charset=utf-8
2022-11-02 20:40:42.0735 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:40:42.0835 INFO Request finished in 9.9364ms 200 application/javascript; charset=utf-8
2022-11-02 20:40:42.1090 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:40:42.1362 INFO Request finished in 27.1619ms 200 text/javascript; charset=UTF-8
2022-11-02 20:40:42.3987 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:40:42.3987 TRACE All hosts are allowed.
2022-11-02 20:40:42.3987 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:40:42.3987 DEBUG Request did not match any endpoints
2022-11-02 20:40:42.3987 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:40:42.6703 INFO Request finished in 189.6587ms 200 application/json;charset=utf-8
2022-11-02 20:41:02.3766 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 20:41:02.3766 TRACE All hosts are allowed.
2022-11-02 20:41:02.3766 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:41:02.3766 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:41:02.3766 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:41:02.3766 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:41:02.3766 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:41:02.3766 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:41:02.3939 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:41:02.4228 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:41:02.4228 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:41:02.4228 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:41:02.4228 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:41:02.4228 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:41:02.4228 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:41:02.4228 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:41:02.5471 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:41:02.5641 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:41:02.5641 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:41:02.5641 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:41:02.5641 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:41:02.5794 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:41:02.5794 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:41:02.5794 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:41:02.5794 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:41:02.5794 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:41:02.5794 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:02.5794 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:02.5794 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:02.5794 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:02.5794 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:41:02.5794 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:41:03.0657 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:41:03.2395 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 20:41:03.2617 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:41:03.3908 DEBUG Created DbCommand for 'ExecuteReader' (128ms).
2022-11-02 20:41:03.3978 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:03.5771 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:03.5892 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:41:03.6325 INFO Executed DbCommand (51ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:41:03.6637 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:41:03.6827 DEBUG A data reader was disposed.
2022-11-02 20:41:03.6827 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:03.6896 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:03.8519 INFO Login is sucess
2022-11-02 20:41:03.8519 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1266.1547ms.
2022-11-02 20:41:03.8519 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:03.8519 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:03.8519 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:03.8519 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:03.8519 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:03.8519 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:03.8519 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:41:03.8519 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:41:03.8519 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:41:03.8519 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:41:03.8519 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:41:03.8602 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:41:03.8602 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:41:03.8602 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:41:03.8602 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:03.8602 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:03.8602 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 1439.8015ms
2022-11-02 20:41:03.8602 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:41:03.8602 DEBUG 'UserContext' disposed.
2022-11-02 20:41:03.8602 INFO Request finished in 1493.5549ms 200 application/json; charset=utf-8
2022-11-02 20:41:24.1367 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 234
2022-11-02 20:41:24.1367 TRACE All hosts are allowed.
2022-11-02 20:41:24.1367 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:41:24.1428 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:41:24.1428 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:41:24.2044 INFO Successfully validated the token.
2022-11-02 20:41:24.2044 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:41:24.2044 INFO Authorization was successful.
2022-11-02 20:41:24.2044 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:41:24.2044 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:41:24.2044 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:41:24.2044 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:41:24.2044 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:41:24.2044 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:41:24.2044 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:41:24.2044 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:41:24.2044 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:41:24.2259 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:41:24.2259 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:41:24.2259 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:41:24.2259 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:41:24.2259 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:41:24.2259 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:41:24.2259 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:41:24.2259 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:41:24.2259 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:41:24.2259 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:24.2259 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:24.2259 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:24.2259 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:24.2259 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:41:24.2259 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:41:24.2550 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:41:24.2736 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:41:24.2939 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:41:24.2939 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:41:24.2973 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:41:24.2973 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:41:24.3200 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:24.3200 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:24.3200 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:41:24.3301 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:41:24.3664 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:41:24.3664 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:41:24.3664 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:41:24.3813 ERROR Failed executing DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:41:24.3813 DEBUG Disposing transaction.
2022-11-02 20:41:24.3813 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:24.3813 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:24.4655 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:033dd4df-2b2f-4155-9a51-0ee22ac66161
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:41:24.6243 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 389.7991ms.
2022-11-02 20:41:24.6243 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:24.6243 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:24.6243 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:24.6243 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:24.6243 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:24.6243 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:24.6243 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:41:24.6243 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:41:24.6243 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:41:24.6243 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:41:24.6243 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:41:24.6243 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:41:24.6243 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:41:24.6258 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:41:24.6258 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:24.6258 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:24.6258 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 410.9899ms
2022-11-02 20:41:24.6258 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:41:24.6258 DEBUG 'UserContext' disposed.
2022-11-02 20:41:24.6258 INFO Request finished in 490.8638ms 400 application/json; charset=utf-8
2022-11-02 20:41:38.2405 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 234
2022-11-02 20:41:38.2405 TRACE All hosts are allowed.
2022-11-02 20:41:38.2405 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:41:38.2405 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:41:38.2405 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:41:38.2405 INFO Successfully validated the token.
2022-11-02 20:41:38.2508 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:41:38.2508 INFO Authorization was successful.
2022-11-02 20:41:38.2508 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:41:38.2508 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:41:38.2508 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:41:38.2508 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:41:38.2508 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:41:38.2508 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:41:38.2508 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:41:38.2508 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:41:38.2508 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:41:38.2508 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:41:38.2508 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:41:38.2508 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:41:38.2508 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:41:38.2508 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:41:38.2508 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:41:38.2508 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:41:38.2508 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:41:38.2508 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:41:38.2508 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:38.2508 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:38.2508 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:38.2508 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:38.2508 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:41:38.2508 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:41:38.2508 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:41:38.2508 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:41:38.2508 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:41:38.2508 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:41:38.2508 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:41:38.2508 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:41:38.2508 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:38.2508 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:38.2670 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:41:38.2670 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:41:38.2670 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:41:38.2670 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:41:38.2670 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:41:38.2670 ERROR Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:41:38.2670 DEBUG Disposing transaction.
2022-11-02 20:41:38.2670 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:38.2670 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:41:38.2670 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:033dd4df-2b2f-4155-9a51-0ee22ac66161
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:41:38.3611 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 101.9154ms.
2022-11-02 20:41:38.3611 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:38.3611 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:41:38.3611 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:38.3611 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:41:38.3611 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:38.3611 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:38.3611 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:41:38.3611 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:41:38.3611 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:41:38.3611 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:41:38.3611 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:41:38.3611 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:41:38.3611 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:41:38.3611 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:41:38.3611 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:38.3611 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:41:38.3611 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 108.9946ms
2022-11-02 20:41:38.3611 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:41:38.3611 DEBUG 'UserContext' disposed.
2022-11-02 20:41:38.3611 INFO Request finished in 125.1062ms 400 application/json; charset=utf-8
2022-11-02 20:49:35.9733 DEBUG Hosting starting
2022-11-02 20:49:36.0781 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:49:36.0913 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:49:36.1051 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:49:36.1164 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:49:36.1536 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:49:36.1536 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:49:36.1536 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:49:36.1584 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:49:36.1584 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:49:36.1584 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:49:36.1584 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:49:36.3938 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:49:36.3938 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:49:36.3938 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:49:36.3938 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:49:36.3938 INFO Hosting environment: Development
2022-11-02 20:49:36.3938 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:49:36.3938 DEBUG Hosting started
2022-11-02 20:49:36.4517 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:49:36.4781 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:49:36.4781 TRACE All hosts are allowed.
2022-11-02 20:49:36.8240 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:49:36.8240 DEBUG Request did not match any endpoints
2022-11-02 20:49:36.9235 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:49:36.9687 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:49:37.1218 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:49:37.1265 INFO Request finished in 675.4941ms 200 text/html;charset=utf-8
2022-11-02 20:49:37.1492 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:49:37.1583 INFO Request finished in 9.1152ms 200 application/javascript; charset=utf-8
2022-11-02 20:49:37.1908 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:49:37.2184 INFO Request finished in 27.5003ms 200 text/javascript; charset=UTF-8
2022-11-02 20:49:37.5528 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:49:37.5528 TRACE All hosts are allowed.
2022-11-02 20:49:37.5528 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:49:37.5528 DEBUG Request did not match any endpoints
2022-11-02 20:49:37.5528 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:49:37.7277 INFO Request finished in 175.068ms 200 application/json;charset=utf-8
2022-11-02 20:50:01.4898 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 20:50:01.4898 TRACE All hosts are allowed.
2022-11-02 20:50:01.4898 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 20:50:01.4898 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 20:50:01.4898 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:50:01.5034 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:50:01.5034 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:50:01.5034 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:50:01.5034 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:50:01.5389 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 20:50:01.5389 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:50:01.5389 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:50:01.5389 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:50:01.5389 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:50:01.5389 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:50:01.5389 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:50:01.6649 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:50:01.6801 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 20:50:01.6801 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:50:01.6801 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 20:50:01.6801 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:50:01.6951 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 20:50:01.6951 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:50:01.6951 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:50:01.6951 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 20:50:01.6951 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 20:50:01.6951 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:01.6951 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:01.6951 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:01.6951 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:01.6951 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 20:50:01.6951 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 20:50:02.1300 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:50:02.2925 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 20:50:02.3135 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:50:02.4464 DEBUG Created DbCommand for 'ExecuteReader' (131ms).
2022-11-02 20:50:02.4464 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:02.6135 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:02.6135 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:50:02.6743 INFO Executed DbCommand (56ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 20:50:02.7094 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:50:02.7266 DEBUG A data reader was disposed.
2022-11-02 20:50:02.7266 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:02.7266 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:02.8662 INFO Login is sucess
2022-11-02 20:50:02.8662 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1164.5147ms.
2022-11-02 20:50:02.8662 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:02.8662 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:02.8662 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:02.8662 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:02.8662 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:02.8662 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:02.8662 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:50:02.8662 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:50:02.8662 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:50:02.8662 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:50:02.8662 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:50:02.8662 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:50:02.8662 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:50:02.8799 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 20:50:02.8799 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:02.8799 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:02.8799 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 1340.5287ms
2022-11-02 20:50:02.8799 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 20:50:02.8799 DEBUG 'UserContext' disposed.
2022-11-02 20:50:02.8799 INFO Request finished in 1399.9068ms 200 application/json; charset=utf-8
2022-11-02 20:50:20.7149 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 233
2022-11-02 20:50:20.7149 TRACE All hosts are allowed.
2022-11-02 20:50:20.7149 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:50:20.7149 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:50:20.7149 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:50:20.7948 INFO Successfully validated the token.
2022-11-02 20:50:20.7948 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:50:20.8011 INFO Authorization was successful.
2022-11-02 20:50:20.8011 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:50:20.8011 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:50:20.8011 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:50:20.8011 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:50:20.8011 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:50:20.8011 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:50:20.8011 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:50:20.8011 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:50:20.8011 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:50:20.8153 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:50:20.8153 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:50:20.8153 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:50:20.8153 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:50:20.8153 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:50:20.8153 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:50:20.8153 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:50:20.8153 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:50:20.8153 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:50:20.8153 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:20.8153 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:20.8153 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:20.8153 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:20.8153 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:50:20.8153 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:50:20.8482 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:50:20.8705 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:50:20.8905 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:50:20.8917 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:50:20.8917 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:50:20.8917 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:50:20.9103 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:20.9103 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:20.9103 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:50:20.9103 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:50:20.9551 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:50:20.9551 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 20:50:20.9551 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:50:20.9735 ERROR Failed executing DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:50:20.9735 DEBUG Disposing transaction.
2022-11-02 20:50:20.9735 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:20.9735 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:50:21.0341 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:54a473ee-a88a-4f8f-8fa8-63cf582ef6f0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 20:50:21.2213 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 394.9277ms.
2022-11-02 20:50:21.2213 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:21.2213 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:50:21.2213 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:21.2213 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:50:21.2213 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:21.2213 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:21.2213 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:50:21.2213 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 20:50:21.2213 DEBUG No information found on request to perform content negotiation.
2022-11-02 20:50:21.2213 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 20:50:21.2213 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 20:50:21.2213 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 20:50:21.2213 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 20:50:21.2213 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 20:50:21.2213 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:21.2213 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 20:50:21.2213 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 418.6637ms
2022-11-02 20:50:21.2213 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:50:21.2213 DEBUG 'UserContext' disposed.
2022-11-02 20:50:21.2213 INFO Request finished in 509.6187ms 400 application/json; charset=utf-8
2022-11-02 20:51:16.7772 DEBUG Hosting starting
2022-11-02 20:51:16.8476 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 20:51:16.8476 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 20:51:16.8627 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 20:51:16.8627 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 20:51:16.9031 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:51:16.9031 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 20:51:16.9031 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 20:51:16.9074 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 20:51:16.9074 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 20:51:16.9074 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 20:51:16.9074 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 20:51:17.0976 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 20:51:17.0976 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 20:51:17.0976 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 20:51:17.0976 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 20:51:17.0976 INFO Hosting environment: Development
2022-11-02 20:51:17.0976 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 20:51:17.0976 DEBUG Hosting started
2022-11-02 20:51:17.1346 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 20:51:17.1572 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 20:51:17.1572 TRACE All hosts are allowed.
2022-11-02 20:51:17.1808 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 20:51:17.1808 DEBUG Request did not match any endpoints
2022-11-02 20:51:17.2682 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:51:17.3017 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 20:51:17.4036 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 20:51:17.4096 INFO Request finished in 275.8049ms 200 text/html;charset=utf-8
2022-11-02 20:51:17.4096 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 20:51:17.4300 INFO Request finished in 9.6318ms 200 application/javascript; charset=utf-8
2022-11-02 20:51:17.4459 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 20:51:17.4635 INFO Request finished in 17.5518ms 200 text/javascript; charset=UTF-8
2022-11-02 20:51:17.7391 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 20:51:17.7391 TRACE All hosts are allowed.
2022-11-02 20:51:17.7391 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 20:51:17.7391 DEBUG Request did not match any endpoints
2022-11-02 20:51:17.7391 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 20:51:17.8424 INFO Request finished in 103.3156ms 200 application/json;charset=utf-8
2022-11-02 20:51:31.4970 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 233
2022-11-02 20:51:31.4970 TRACE All hosts are allowed.
2022-11-02 20:51:31.5029 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 20:51:31.5029 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 20:51:31.5029 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:51:31.7282 INFO Successfully validated the token.
2022-11-02 20:51:31.7282 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 20:51:31.7282 INFO Authorization was successful.
2022-11-02 20:51:31.7282 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 20:51:31.7282 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 20:51:31.7393 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 20:51:31.7616 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 20:51:31.7616 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 20:51:31.7616 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 20:51:31.7616 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 20:51:31.7616 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 20:51:31.7616 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 20:51:31.7616 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:51:31.8931 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 20:51:31.9101 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 20:51:31.9101 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:51:31.9101 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 20:51:31.9101 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 20:51:31.9299 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 20:51:31.9299 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:51:31.9299 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:51:31.9299 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 20:51:31.9299 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 20:51:31.9299 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:51:31.9299 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 20:51:31.9299 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:51:31.9299 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 20:51:31.9299 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 20:51:31.9299 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 20:59:40.2670 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 20:59:40.3691 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:59:40.4562 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 20:59:52.1055 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 20:59:52.1096 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 20:59:52.1332 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 20:59:52.3319 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:59:52.6007 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:59:52.6007 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 20:59:52.6183 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 20:59:52.6858 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 20:59:52.6927 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2022-11-02 20:59:52.7132 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:59:52.7864 ERROR Failed executing DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 20:59:52.7864 DEBUG Disposing transaction.
2022-11-02 20:59:52.7864 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:59:52.8024 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 20:59:52.8784 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:c882fffa-0a18-4e1b-9914-abb03c759747
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 21:00:44.4929 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 552551.1185ms.
2022-11-02 21:00:44.4929 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:00:44.4929 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:00:44.4929 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:00:44.4929 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:00:44.4929 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:00:44.4929 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:00:44.4929 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:00:44.5014 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:00:44.5014 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:00:44.5014 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:00:44.5014 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:00:44.5014 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:00:44.5014 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:00:44.5014 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:00:44.5175 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:00:44.5175 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:00:44.5175 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 552755.8849ms
2022-11-02 21:00:44.5175 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:00:44.5175 DEBUG 'UserContext' disposed.
2022-11-02 21:00:44.5175 INFO Request finished in 553034.531ms 400 application/json; charset=utf-8
2022-11-02 21:02:46.7579 DEBUG Hosting starting
2022-11-02 21:02:46.8575 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 21:02:46.8761 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 21:02:46.8921 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 21:02:46.8921 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 21:02:46.9412 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:02:46.9412 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 21:02:46.9412 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:02:46.9412 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 21:02:46.9412 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 21:02:46.9412 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 21:02:46.9412 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 21:02:47.3152 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 21:02:47.3152 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 21:02:47.3152 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 21:02:47.3152 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 21:02:47.3152 INFO Hosting environment: Development
2022-11-02 21:02:47.3152 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 21:02:47.3152 DEBUG Hosting started
2022-11-02 21:02:47.3833 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 21:02:47.4123 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 21:02:47.4123 TRACE All hosts are allowed.
2022-11-02 21:02:47.4346 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 21:02:47.4346 DEBUG Request did not match any endpoints
2022-11-02 21:02:47.5314 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:02:47.5711 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 21:02:47.6848 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 21:02:47.6881 INFO Request finished in 305.5606ms 200 text/html;charset=utf-8
2022-11-02 21:02:47.6881 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 21:02:47.7053 INFO Request finished in 3.0779ms 200 application/javascript; charset=utf-8
2022-11-02 21:02:47.7343 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 21:02:47.7641 INFO Request finished in 29.7174ms 200 text/javascript; charset=UTF-8
2022-11-02 21:02:48.1165 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 21:02:48.1165 TRACE All hosts are allowed.
2022-11-02 21:02:48.1165 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 21:02:48.1165 DEBUG Request did not match any endpoints
2022-11-02 21:02:48.1165 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:02:48.2299 INFO Request finished in 113.5319ms 200 application/json;charset=utf-8
2022-11-02 21:03:02.2728 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 230
2022-11-02 21:03:02.2728 TRACE All hosts are allowed.
2022-11-02 21:03:02.2728 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 21:03:02.2728 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 21:03:02.2728 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:03:02.5820 INFO Successfully validated the token.
2022-11-02 21:03:02.5820 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:03:02.5820 INFO Authorization was successful.
2022-11-02 21:03:02.5820 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:03:02.5820 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:03:02.6006 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 21:03:02.6365 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 21:03:02.6365 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:03:02.6365 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:03:02.6365 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:03:02.6365 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:03:02.6365 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:03:02.6365 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:03:02.8021 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 21:03:02.8239 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:03:02.8301 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:03:02.8301 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 21:03:02.8301 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:03:02.8681 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 21:03:02.8681 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:03:02.8681 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:03:02.8681 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:03:02.8681 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:03:02.8778 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:03:02.8778 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:03:02.8778 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:03:02.8778 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:03:02.8778 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 21:03:02.8778 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 21:03:30.8220 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:03:30.8869 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:03:31.0013 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:03:33.4889 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 21:03:33.4889 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 21:03:33.5120 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 21:03:33.7389 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:03:34.0134 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:03:34.0134 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 21:03:34.0308 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 21:03:34.0896 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:03:34.0967 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2022-11-02 21:03:34.1174 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:03:34.2106 ERROR Failed executing DbCommand (96ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:03:34.2106 DEBUG Disposing transaction.
2022-11-02 21:03:34.2195 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:03:34.2195 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:03:34.3038 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:49db29e2-9567-43b4-a54e-225c4d60739c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 21:09:13.1342 DEBUG Hosting starting
2022-11-02 21:09:13.3015 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 21:09:13.3308 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 21:09:13.3504 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 21:09:13.3721 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 21:09:13.4645 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:09:13.4645 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 21:09:13.4699 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:09:13.4699 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 21:09:13.4699 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 21:09:13.4851 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 21:09:13.4851 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 21:09:13.8590 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 21:09:13.8590 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 21:09:13.8590 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 21:09:13.8606 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 21:09:13.8606 INFO Hosting environment: Development
2022-11-02 21:09:13.8606 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 21:09:13.8606 DEBUG Hosting started
2022-11-02 21:09:13.9438 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 21:09:14.0094 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 21:09:14.0094 TRACE All hosts are allowed.
2022-11-02 21:09:14.0620 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 21:09:14.0620 DEBUG Request did not match any endpoints
2022-11-02 21:09:14.2432 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:09:14.3473 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 21:09:14.6081 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 21:09:14.6173 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 21:09:14.6173 INFO Request finished in 676.0696ms 200 text/html;charset=utf-8
2022-11-02 21:09:14.6264 INFO Request finished in 8.6532ms 200 application/javascript; charset=utf-8
2022-11-02 21:09:14.6768 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 21:09:14.7274 INFO Request finished in 50.5858ms 200 text/javascript; charset=UTF-8
2022-11-02 21:09:15.6053 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 21:09:15.6053 TRACE All hosts are allowed.
2022-11-02 21:09:15.6053 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 21:09:15.6053 DEBUG Request did not match any endpoints
2022-11-02 21:09:15.6053 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:09:15.7484 INFO Request finished in 143.2519ms 200 application/json;charset=utf-8
2022-11-02 21:09:25.1870 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 53
2022-11-02 21:09:25.1870 TRACE All hosts are allowed.
2022-11-02 21:09:25.2245 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 21:09:25.2245 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 21:09:25.2245 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:09:25.2245 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:09:25.2245 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:09:25.2245 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:09:25.2479 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 21:09:25.2897 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 21:09:25.2897 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:09:25.2897 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:09:25.2897 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:09:25.2897 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:09:25.2897 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:09:25.2897 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:09:25.5016 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 21:09:25.5270 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:09:25.5355 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:09:25.5355 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 21:09:25.5355 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:09:25.5546 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 21:09:25.5546 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:09:25.5546 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:09:25.5546 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:09:25.5546 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:09:25.5546 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:09:25.5546 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:09:25.5546 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:09:25.5546 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:09:25.5658 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 21:09:25.5658 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 21:09:26.3646 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:09:26.7740 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 21:09:26.8056 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:09:27.0441 DEBUG Created DbCommand for 'ExecuteReader' (236ms).
2022-11-02 21:09:27.0548 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:09:27.3878 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:09:27.4105 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:09:27.5119 INFO Executed DbCommand (110ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:09:27.5312 DEBUG A data reader was disposed.
2022-11-02 21:09:27.5349 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:09:27.5349 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:09:40.6208 DEBUG Hosting starting
2022-11-02 21:09:40.6920 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 21:09:40.6920 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 21:09:40.7092 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 21:09:40.7092 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 21:09:40.7498 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:09:40.7511 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 21:09:40.7511 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:09:40.7511 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 21:09:40.7511 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 21:09:40.7511 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 21:09:40.7511 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 21:09:40.9564 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 21:09:40.9564 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 21:09:40.9564 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 21:09:40.9564 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 21:09:40.9564 INFO Hosting environment: Development
2022-11-02 21:09:40.9564 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 21:09:40.9564 DEBUG Hosting started
2022-11-02 21:09:40.9919 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 21:09:41.0175 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 21:09:41.0175 TRACE All hosts are allowed.
2022-11-02 21:09:41.0361 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 21:09:41.0361 DEBUG Request did not match any endpoints
2022-11-02 21:09:41.1027 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:09:41.1382 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 21:09:41.2461 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 21:09:41.2461 INFO Request finished in 258.3879ms 200 text/html;charset=utf-8
2022-11-02 21:09:41.2765 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 21:09:41.2765 INFO Request finished in 4.1723ms 200 application/javascript; charset=utf-8
2022-11-02 21:09:41.3105 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 21:09:41.3484 INFO Request finished in 37.9002ms 200 text/javascript; charset=UTF-8
2022-11-02 21:09:41.6194 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 21:09:41.6194 TRACE All hosts are allowed.
2022-11-02 21:09:41.6194 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 21:09:41.6194 DEBUG Request did not match any endpoints
2022-11-02 21:09:41.6266 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:09:41.7895 INFO Request finished in 170.5074ms 200 application/json;charset=utf-8
2022-11-02 21:10:05.4556 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 21:10:05.4556 TRACE All hosts are allowed.
2022-11-02 21:10:05.4737 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 21:10:05.4737 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 21:10:05.4737 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:10:05.4737 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:10:05.4737 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:10:05.4847 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:10:05.4847 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 21:10:05.5290 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 21:10:05.5290 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:10:05.5290 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:10:05.5290 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:10:05.5290 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:10:05.5290 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:10:05.5290 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:10:05.7663 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 21:10:05.8125 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:10:05.8257 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:10:05.8257 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 21:10:05.8319 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:10:05.8529 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 21:10:05.8529 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:10:05.8529 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:10:05.8529 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:10:05.8529 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:10:05.8649 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:10:05.8649 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:10:05.8649 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:10:05.8649 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:10:05.8649 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 21:10:05.8649 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 21:10:07.0078 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:10:07.4121 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 21:10:07.4599 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:10:07.7136 DEBUG Created DbCommand for 'ExecuteReader' (246ms).
2022-11-02 21:10:07.7312 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:10:08.0485 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:10:08.0655 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:10:08.1592 INFO Executed DbCommand (103ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:10:08.2294 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:10:08.2656 DEBUG A data reader was disposed.
2022-11-02 21:10:08.2656 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:10:08.2743 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:10:08.5350 INFO Login is sucess
2022-11-02 21:10:08.5389 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2660.7339ms.
2022-11-02 21:10:08.5389 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:10:08.5389 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:10:08.5389 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:10:08.5389 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:10:08.5389 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:10:08.5389 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:10:08.5389 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:10:08.5389 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:10:08.5389 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:10:08.5389 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:10:08.5389 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:10:08.5389 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:10:08.5389 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:10:08.5389 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:10:08.5389 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:10:08.5389 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:10:08.5516 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 3018.593ms
2022-11-02 21:10:08.5516 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:10:08.5516 DEBUG 'UserContext' disposed.
2022-11-02 21:10:08.5516 INFO Request finished in 3104.0709ms 200 application/json; charset=utf-8
2022-11-02 21:10:53.0600 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 232
2022-11-02 21:10:53.0634 TRACE All hosts are allowed.
2022-11-02 21:10:53.0634 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 21:10:53.0634 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 21:10:53.0634 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:10:53.1766 INFO Successfully validated the token.
2022-11-02 21:10:53.1766 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:10:53.1899 INFO Authorization was successful.
2022-11-02 21:10:53.1899 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:10:53.1899 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:10:53.1899 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 21:10:53.1899 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:10:53.1899 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:10:53.1899 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:10:53.1899 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:10:53.1899 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:10:53.2031 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:10:53.2031 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:10:53.2031 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:10:53.2031 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 21:10:53.2031 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:10:53.2243 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 21:10:53.2243 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:10:53.2243 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:10:53.2243 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:10:53.2243 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:10:53.2243 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:10:53.2243 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:10:53.2243 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:10:53.2243 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:10:53.2243 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 21:10:53.2243 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 21:11:12.9319 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:11:12.9680 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:11:13.0003 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:11:14.3314 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 21:11:14.3314 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 21:11:14.3506 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 21:11:14.3603 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:11:14.3603 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:11:14.3603 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 21:11:14.3603 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 21:11:14.4249 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:11:14.4249 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 21:11:14.4249 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:11:14.4422 ERROR Failed executing DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:11:14.4422 DEBUG Disposing transaction.
2022-11-02 21:11:14.4422 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:11:14.4422 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:11:14.5148 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:e9592610-237b-4507-a6f5-237ee75b9d39
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 21:11:50.7218 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 57494.358ms.
2022-11-02 21:11:50.7218 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:11:50.7218 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:11:50.7218 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:11:50.7218 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:11:50.7218 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:11:50.7218 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:11:50.7218 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:11:50.7218 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:11:50.7218 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:11:50.7218 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:11:50.7218 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:11:50.7218 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:11:50.7218 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:11:50.7361 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:11:50.7361 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:11:50.7361 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:11:50.7361 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 57533.3475ms
2022-11-02 21:11:50.7361 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:11:50.7361 DEBUG 'UserContext' disposed.
2022-11-02 21:11:50.7361 INFO Request finished in 57679.8193ms 400 application/json; charset=utf-8
2022-11-02 21:16:11.5336 DEBUG Hosting starting
2022-11-02 21:16:11.6184 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 21:16:11.6330 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 21:16:11.6440 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 21:16:11.6440 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 21:16:11.7123 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:16:11.7123 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 21:16:11.7123 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:16:11.7215 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 21:16:11.7215 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 21:16:11.7215 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 21:16:11.7215 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 21:16:12.0691 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 21:16:12.0691 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 21:16:12.0691 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 21:16:12.0691 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 21:16:12.0691 INFO Hosting environment: Development
2022-11-02 21:16:12.0691 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 21:16:12.0691 DEBUG Hosting started
2022-11-02 21:16:12.1187 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 21:16:12.1585 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 21:16:12.1585 TRACE All hosts are allowed.
2022-11-02 21:16:12.1947 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 21:16:12.1947 DEBUG Request did not match any endpoints
2022-11-02 21:16:12.3556 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:16:12.4435 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 21:16:12.6314 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 21:16:12.6409 INFO Request finished in 522.4148ms 200 text/html;charset=utf-8
2022-11-02 21:16:12.6674 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 21:16:12.6860 INFO Request finished in 11.2733ms 200 application/javascript; charset=utf-8
2022-11-02 21:16:12.7629 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 21:16:12.8054 INFO Request finished in 42.4892ms 200 text/javascript; charset=UTF-8
2022-11-02 21:16:13.2267 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 21:16:13.2267 TRACE All hosts are allowed.
2022-11-02 21:16:13.2267 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 21:16:13.2267 DEBUG Request did not match any endpoints
2022-11-02 21:16:13.2267 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:16:13.3957 INFO Request finished in 163.5791ms 200 application/json;charset=utf-8
2022-11-02 21:16:37.4645 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 21:16:37.4645 TRACE All hosts are allowed.
2022-11-02 21:16:37.4781 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 21:16:37.4781 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 21:16:37.4781 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:16:37.4781 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:16:37.4781 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:16:37.4781 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:16:37.4952 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 21:16:37.5283 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 21:16:37.5283 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:16:37.5283 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:16:37.5283 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:16:37.5283 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:16:37.5283 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:16:37.5283 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:16:37.7743 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 21:16:37.8013 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:16:37.8013 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:16:37.8013 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 21:16:37.8013 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:16:37.8228 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 21:16:37.8228 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:16:37.8228 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:16:37.8228 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:16:37.8228 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:16:37.8294 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:16:37.8294 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:16:37.8294 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:16:37.8294 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:16:37.8294 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 21:16:37.8294 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 21:16:38.7096 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:16:39.0719 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 21:16:39.1330 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:16:39.4563 DEBUG Created DbCommand for 'ExecuteReader' (321ms).
2022-11-02 21:16:39.4724 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:16:39.8160 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:16:39.8365 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:16:39.9282 INFO Executed DbCommand (103ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:16:40.0070 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:16:40.0540 DEBUG A data reader was disposed.
2022-11-02 21:16:40.0540 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:16:40.0540 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:16:40.3944 INFO Login is sucess
2022-11-02 21:16:40.3944 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2558.5164ms.
2022-11-02 21:16:40.3944 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:16:40.3944 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:16:40.3944 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:16:40.3944 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:16:40.3944 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:16:40.3944 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:16:40.3944 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:16:40.4099 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:16:40.4099 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:16:40.4099 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:16:40.4099 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:16:40.4099 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:16:40.4099 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:16:40.4099 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:16:40.4099 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:16:40.4099 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:16:40.4279 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 2892.7416ms
2022-11-02 21:16:40.4279 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:16:40.4279 DEBUG 'UserContext' disposed.
2022-11-02 21:16:40.4433 INFO Request finished in 2983.5375ms 200 application/json; charset=utf-8
2022-11-02 21:17:05.4270 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 223
2022-11-02 21:17:05.4270 TRACE All hosts are allowed.
2022-11-02 21:17:05.4270 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 21:17:05.4674 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 21:17:05.4674 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:17:05.6249 INFO Successfully validated the token.
2022-11-02 21:17:05.6273 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:17:05.6273 INFO Authorization was successful.
2022-11-02 21:17:05.6273 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:17:05.6273 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:17:05.6516 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 21:17:05.6516 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:17:05.6516 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:17:05.6516 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:17:05.6516 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:17:05.6516 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:17:05.6516 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:17:05.6688 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:17:05.6688 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:17:05.6688 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 21:17:05.6688 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:17:05.6844 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 21:17:05.6844 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:17:05.6844 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:17:05.6844 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:17:05.6844 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:17:05.6844 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:17:05.6844 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:17:05.6844 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:17:05.6844 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:17:05.6844 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 21:17:05.6844 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 21:17:18.2759 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:17:18.3063 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:17:18.3382 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:17:18.8964 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 21:17:18.8964 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 21:17:18.9257 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 21:17:18.9257 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:17:18.9397 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:17:18.9397 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 21:17:18.9583 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 21:17:19.0258 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:17:19.0258 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 21:17:19.0258 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:17:19.0466 ERROR Failed executing DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:17:19.0527 DEBUG Disposing transaction.
2022-11-02 21:17:19.0527 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:17:19.0527 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:17:19.1180 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:026f915b-3cc8-4757-8018-5baabf28bde3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 21:21:14.0120 DEBUG Hosting starting
2022-11-02 21:21:14.2222 INFO User profile is available. Using 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 21:21:14.2560 DEBUG Reading data from file 'C:\Users\prati\AppData\Local\ASP.NET\DataProtection-Keys\key-35f23650-eba7-4e2c-85f3-af0f57058658.xml'.
2022-11-02 21:21:14.2792 DEBUG Found key {35f23650-eba7-4e2c-85f3-af0f57058658}.
2022-11-02 21:21:14.3052 DEBUG Considering key {35f23650-eba7-4e2c-85f3-af0f57058658} with expiration date 2023-01-19 06:10:20Z as default key.
2022-11-02 21:21:14.4153 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:21:14.4153 DEBUG Decrypting secret element using Windows DPAPI.
2022-11-02 21:21:14.4153 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.28.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-02 21:21:14.4284 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2022-11-02 21:21:14.4284 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2022-11-02 21:21:14.4409 DEBUG Using key {35f23650-eba7-4e2c-85f3-af0f57058658} as the default key.
2022-11-02 21:21:14.4409 DEBUG Key ring with default key {35f23650-eba7-4e2c-85f3-af0f57058658} was loaded during application startup.
2022-11-02 21:21:14.7643 DEBUG Loaded hosting startup assembly FundooNotes
2022-11-02 21:21:14.7643 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-02 21:21:14.7643 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-02 21:21:14.7660 INFO Application started. Press Ctrl+C to shut down.
2022-11-02 21:21:14.7660 INFO Hosting environment: Development
2022-11-02 21:21:14.7660 INFO Content root path: D:\pratik\FundooNotes
2022-11-02 21:21:14.7660 DEBUG Hosting started
2022-11-02 21:21:14.8371 INFO Request starting HTTP/2.0 GET https://localhost:44359/Swagger/index.html  
2022-11-02 21:21:14.8829 DEBUG Wildcard detected, all requests with hosts will be allowed.
2022-11-02 21:21:14.8829 TRACE All hosts are allowed.
2022-11-02 21:21:14.9224 DEBUG No candidates found for the request path '/Swagger/index.html'
2022-11-02 21:21:14.9228 DEBUG Request did not match any endpoints
2022-11-02 21:21:15.1020 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:21:15.1641 DEBUG Response markup is scheduled to include browser refresh script injection.
2022-11-02 21:21:15.2959 DEBUG Response markup was updated to include browser refresh script injection.
2022-11-02 21:21:15.3005 INFO Request starting HTTP/2.0 GET https://localhost:44359/_framework/aspnetcore-browser-refresh.js  
2022-11-02 21:21:15.3005 INFO Request finished in 465.2109ms 200 text/html;charset=utf-8
2022-11-02 21:21:15.3005 INFO Request finished in 4.1538ms 200 application/javascript; charset=utf-8
2022-11-02 21:21:15.3360 INFO Request starting HTTP/2.0 GET https://localhost:44359/_vs/browserLink  
2022-11-02 21:21:16.2526 INFO Request finished in 916.5429ms 200 text/javascript; charset=UTF-8
2022-11-02 21:21:16.3583 INFO Request starting HTTP/2.0 GET https://localhost:44359/swagger/v1/swagger.json  
2022-11-02 21:21:16.3583 TRACE All hosts are allowed.
2022-11-02 21:21:16.3607 DEBUG No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-02 21:21:16.3607 DEBUG Request did not match any endpoints
2022-11-02 21:21:16.3607 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:21:16.4844 INFO Request finished in 126.1962ms 200 application/json;charset=utf-8
2022-11-02 21:22:17.0949 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 49
2022-11-02 21:22:17.0964 TRACE All hosts are allowed.
2022-11-02 21:22:17.0964 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 21:22:17.1211 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 21:22:17.1211 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:22:17.1287 DEBUG AuthenticationScheme: Bearer was not authenticated.
2022-11-02 21:22:17.1287 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:22:17.1287 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:22:17.1459 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider
2022-11-02 21:22:17.1932 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 21:22:17.1932 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:22:17.1932 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:22:17.1932 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:22:17.1932 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:22:17.1932 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:22:17.1932 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:22:17.4059 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-02 21:22:17.4344 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:22:17.4428 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:22:17.4428 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 21:22:17.4428 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:22:17.4585 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 21:22:17.4585 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:22:17.4585 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:22:17.4585 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:22:17.4585 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:22:17.4585 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:17.4585 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:17.4585 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:17.4585 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:17.4585 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 21:22:17.4585 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 21:22:18.3996 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:22:18.7700 DEBUG queryContext => new QueryingEnumerable<UserEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserEntity>, 
    RepositoryLayer.AppContext.UserContext, 
    DiagnosticsLogger<Query>
)
    .SingleOrDefault()
2022-11-02 21:22:18.8306 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:22:19.1480 DEBUG Created DbCommand for 'ExecuteReader' (314ms).
2022-11-02 21:22:19.1480 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:19.4962 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:19.5258 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:22:19.6361 INFO Executed DbCommand (133ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:22:19.7006 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:22:19.7293 DEBUG A data reader was disposed.
2022-11-02 21:22:19.7293 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:19.7398 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:20.0338 INFO Login is sucess
2022-11-02 21:22:20.0418 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2564.4325ms.
2022-11-02 21:22:20.0418 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:20.0418 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:20.0418 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:20.0418 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:20.0418 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:20.0418 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:20.0418 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:22:20.0418 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:22:20.0509 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:22:20.0509 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:22:20.0509 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:22:20.0509 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:22:20.0509 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:22:20.0509 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:22:20.0509 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:20.0509 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:20.0675 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 2864.9526ms
2022-11-02 21:22:20.0675 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:22:20.0675 DEBUG 'UserContext' disposed.
2022-11-02 21:22:20.0675 INFO Request finished in 2987.0132ms 200 application/json; charset=utf-8
2022-11-02 21:22:39.4743 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 230
2022-11-02 21:22:39.4743 TRACE All hosts are allowed.
2022-11-02 21:22:39.4743 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 21:22:39.4743 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 21:22:39.4743 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:22:39.5826 INFO Successfully validated the token.
2022-11-02 21:22:39.5826 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:22:39.5826 INFO Authorization was successful.
2022-11-02 21:22:39.5826 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:22:39.5826 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:22:39.5826 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 21:22:39.5826 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:22:39.5826 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:22:39.5826 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:22:39.5826 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:22:39.5826 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:22:39.5826 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:22:39.6074 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:22:39.6074 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:22:39.6074 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 21:22:39.6074 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:22:39.6202 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 21:22:39.6202 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:22:39.6202 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:22:39.6202 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:22:39.6202 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:22:39.6202 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:39.6202 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:39.6202 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:39.6202 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:39.6202 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 21:22:39.6202 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 21:22:42.3980 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:22:42.4371 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:22:42.4681 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:22:42.4681 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 21:22:42.4725 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 21:22:42.4923 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 21:22:42.5033 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:42.5033 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:42.5033 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 21:22:42.5033 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 21:22:42.5973 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:22:42.5973 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 21:22:42.5973 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:22:42.6874 ERROR Failed executing DbCommand (84ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:22:42.6956 DEBUG Disposing transaction.
2022-11-02 21:22:42.6956 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:42.6956 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:22:42.8085 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:65b76457-7ef7-47fc-b682-a1956c3df684
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 21:22:43.0251 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3401.2897ms.
2022-11-02 21:22:43.0251 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:43.0251 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:22:43.0251 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:43.0251 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:22:43.0251 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:43.0251 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:43.0251 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:22:43.0251 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:22:43.0251 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:22:43.0251 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:22:43.0251 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:22:43.0251 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:22:43.0251 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:22:43.0251 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:22:43.0251 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:43.0251 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:22:43.0251 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 3433.6065ms
2022-11-02 21:22:43.0251 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:22:43.0251 DEBUG 'UserContext' disposed.
2022-11-02 21:22:43.0251 INFO Request finished in 3555.9863ms 400 application/json; charset=utf-8
2022-11-02 21:23:30.8782 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/Register application/json 91
2022-11-02 21:23:30.8782 TRACE All hosts are allowed.
2022-11-02 21:23:30.8782 DEBUG 1 candidate(s) found for the request path '/api/Users/Register'
2022-11-02 21:23:30.8782 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)' with route pattern 'api/Users/Register' is valid for the request path '/api/Users/Register'
2022-11-02 21:23:30.8782 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 21:23:30.8928 INFO Successfully validated the token.
2022-11-02 21:23:30.8928 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:23:30.8928 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:23:30.8928 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 21:23:30.8928 INFO Route matched with {action = "AddUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddUser(CommonLayer.Models.UserRegistration) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 21:23:30.8928 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:23:30.8928 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:23:30.8928 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:23:30.8928 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:23:30.8928 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:23:30.8928 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:23:30.9090 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:23:30.9090 DEBUG Attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' ...
2022-11-02 21:23:30.9239 DEBUG Attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' using the name '' in request data ...
2022-11-02 21:23:30.9239 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:23:30.9239 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.UserRegistration'
2022-11-02 21:23:30.9239 DEBUG Done attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 21:23:30.9239 DEBUG Done attempting to bind parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 21:23:30.9239 DEBUG Attempting to validate the bound parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration' ...
2022-11-02 21:23:30.9239 DEBUG Done attempting to validate the bound parameter 'userRegistration' of type 'CommonLayer.Models.UserRegistration'.
2022-11-02 21:23:30.9239 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:30.9239 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:30.9239 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:30.9239 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:30.9239 INFO Executing action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes) - Validation state: Valid
2022-11-02 21:23:30.9239 TRACE Executing action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes) with arguments (CommonLayer.Models.UserRegistration)
2022-11-02 21:23:30.9556 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:23:30.9586 DEBUG 'UserContext' generated a temporary value for the 'UserId' property of new 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:23:30.9586 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:23:30.9586 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 21:23:30.9586 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 21:23:30.9586 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 21:23:30.9586 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:30.9586 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:30.9586 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 21:23:30.9586 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 21:23:30.9586 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:23:30.9586 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 21:23:30.9586 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [LastName], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-11-02 21:23:30.9760 INFO Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [LastName], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-11-02 21:23:30.9955 DEBUG Foreign key property 'UserEntity.UserId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-11-02 21:23:31.0061 DEBUG A data reader was disposed.
2022-11-02 21:23:31.0061 DEBUG Committing transaction.
2022-11-02 21:23:31.0061 DEBUG Committing transaction.
2022-11-02 21:23:31.0061 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:31.0061 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:31.0061 DEBUG Disposing transaction.
2022-11-02 21:23:31.0308 DEBUG An 'UserEntity' entity tracked by 'UserContext' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:23:31.0308 DEBUG SaveChanges completed for 'UserContext' with 1 entities written to the database.
2022-11-02 21:23:31.0308 INFO Registration is sucess
2022-11-02 21:23:31.0308 INFO Executed action method FundooNotes.Controllers.UsersController.AddUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 100.0537ms.
2022-11-02 21:23:31.0308 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:31.0308 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:31.0308 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:31.0308 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:31.0308 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:31.0308 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:31.0308 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:23:31.0308 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:23:31.0308 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:23:31.0308 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:23:31.0308 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:23:31.0308 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:23:31.0308 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[RepositoryLayer.Entity.UserEntity, RepositoryLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-02 21:23:31.0380 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:23:31.0380 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:31.0380 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:31.0380 INFO Executed action FundooNotes.Controllers.UsersController.AddUser (FundooNotes) in 132.5322ms
2022-11-02 21:23:31.0380 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.AddUser (FundooNotes)'
2022-11-02 21:23:31.0380 DEBUG 'UserContext' disposed.
2022-11-02 21:23:31.0380 INFO Request finished in 162.1059ms 200 application/json; charset=utf-8
2022-11-02 21:23:49.5669 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Users/LoginUser application/json 50
2022-11-02 21:23:49.5669 TRACE All hosts are allowed.
2022-11-02 21:23:49.5669 DEBUG 1 candidate(s) found for the request path '/api/Users/LoginUser'
2022-11-02 21:23:49.5669 DEBUG Endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)' with route pattern 'api/Users/LoginUser' is valid for the request path '/api/Users/LoginUser'
2022-11-02 21:23:49.5669 DEBUG Request matched endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:23:49.5669 INFO Successfully validated the token.
2022-11-02 21:23:49.5669 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:23:49.5669 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:23:49.5669 INFO Executing endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:23:49.5669 INFO Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(CommonLayer.Models.LoginUser) on controller FundooNotes.Controllers.UsersController (FundooNotes).
2022-11-02 21:23:49.5669 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:23:49.5669 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:23:49.5669 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:23:49.5669 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:23:49.5669 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:23:49.5669 DEBUG Executing controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:23:49.5669 DEBUG Executed controller factory for controller FundooNotes.Controllers.UsersController (FundooNotes)
2022-11-02 21:23:49.5669 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:23:49.5669 DEBUG Attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' using the name '' in request data ...
2022-11-02 21:23:49.5669 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:23:49.5669 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Models.LoginUser'
2022-11-02 21:23:49.5669 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:23:49.5669 DEBUG Done attempting to bind parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:23:49.5669 DEBUG Attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser' ...
2022-11-02 21:23:49.5669 DEBUG Done attempting to validate the bound parameter 'loginUser' of type 'CommonLayer.Models.LoginUser'.
2022-11-02 21:23:49.5669 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:49.5669 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:49.5669 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:49.5669 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:49.5669 INFO Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) - Validation state: Valid
2022-11-02 21:23:49.5669 TRACE Executing action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) with arguments (CommonLayer.Models.LoginUser)
2022-11-02 21:23:49.5787 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:23:49.5787 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:23:49.5787 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 21:23:49.5787 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:49.5787 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:49.5787 DEBUG Executing DbCommand [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:23:49.5787 INFO Executed DbCommand (2ms) [Parameters=[@__loginUser_Email_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginUser_Email_0
2022-11-02 21:23:49.5787 DEBUG Context 'UserContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:23:49.5787 DEBUG A data reader was disposed.
2022-11-02 21:23:49.5787 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:49.5787 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:23:49.5787 INFO Login is sucess
2022-11-02 21:23:49.5787 INFO Executed action method FundooNotes.Controllers.UsersController.LoginUser (FundooNotes), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.1444ms.
2022-11-02 21:23:49.5787 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:49.5787 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:23:49.5787 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:49.5787 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:23:49.5787 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:49.5787 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:49.5787 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:23:49.5787 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:23:49.5787 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:23:49.5787 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:23:49.5787 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:23:49.5787 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:23:49.5787 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType6`3[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:23:49.5787 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2022-11-02 21:23:49.5787 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:49.5787 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:23:49.5787 INFO Executed action FundooNotes.Controllers.UsersController.LoginUser (FundooNotes) in 18.5041ms
2022-11-02 21:23:49.5787 INFO Executed endpoint 'FundooNotes.Controllers.UsersController.LoginUser (FundooNotes)'
2022-11-02 21:23:49.5787 DEBUG 'UserContext' disposed.
2022-11-02 21:23:49.5787 INFO Request finished in 23.5824ms 200 application/json; charset=utf-8
2022-11-02 21:24:27.0246 INFO Request starting HTTP/2.0 POST https://localhost:44359/api/Notes/AddNote application/json 224
2022-11-02 21:24:27.0246 TRACE All hosts are allowed.
2022-11-02 21:24:27.0246 DEBUG 1 candidate(s) found for the request path '/api/Notes/AddNote'
2022-11-02 21:24:27.0246 DEBUG Endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)' with route pattern 'api/Notes/AddNote' is valid for the request path '/api/Notes/AddNote'
2022-11-02 21:24:27.0246 DEBUG Request matched endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:24:27.0246 INFO Successfully validated the token.
2022-11-02 21:24:27.0246 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2022-11-02 21:24:27.0375 INFO Authorization was successful.
2022-11-02 21:24:27.0375 DEBUG Static files was skipped as the request already matched an endpoint.
2022-11-02 21:24:27.0375 INFO Executing endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:24:27.0375 INFO Route matched with {action = "AddNote", controller = "Notes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddNote(CommonLayer.Model.NoteModel) on controller FundooNotes.Controllers.NotesController (FundooNotes).
2022-11-02 21:24:27.0375 DEBUG Execution plan of authorization filters (in the following order): None
2022-11-02 21:24:27.0375 DEBUG Execution plan of resource filters (in the following order): None
2022-11-02 21:24:27.0375 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2022-11-02 21:24:27.0375 DEBUG Execution plan of exception filters (in the following order): None
2022-11-02 21:24:27.0375 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2022-11-02 21:24:27.0375 DEBUG Executing controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:24:27.0480 DEBUG Executed controller factory for controller FundooNotes.Controllers.NotesController (FundooNotes)
2022-11-02 21:24:27.0480 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:24:27.0480 DEBUG Attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' using the name '' in request data ...
2022-11-02 21:24:27.0480 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-11-02 21:24:27.0480 DEBUG JSON input formatter succeeded, deserializing to type 'CommonLayer.Model.NoteModel'
2022-11-02 21:24:27.0480 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:24:27.0480 DEBUG Done attempting to bind parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:24:27.0480 DEBUG Attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel' ...
2022-11-02 21:24:27.0480 DEBUG Done attempting to validate the bound parameter 'noteModel' of type 'CommonLayer.Model.NoteModel'.
2022-11-02 21:24:27.0480 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:24:27.0480 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:24:27.0480 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:24:27.0480 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:24:27.0480 INFO Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) - Validation state: Valid
2022-11-02 21:24:27.0480 TRACE Executing action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes) with arguments (CommonLayer.Model.NoteModel)
2022-11-02 21:24:29.1793 INFO Entity Framework Core 3.1.0 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-11-02 21:24:29.1793 DEBUG 'UserContext' generated a temporary value for the 'NoteID' property of new 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:24:29.1793 DEBUG Context 'UserContext' started tracking 'NoteEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-02 21:24:29.1793 DEBUG SaveChanges starting for 'UserContext'.
2022-11-02 21:24:29.1793 DEBUG DetectChanges starting for 'UserContext'.
2022-11-02 21:24:29.1793 DEBUG DetectChanges completed for 'UserContext'.
2022-11-02 21:24:29.1793 DEBUG Opening connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:24:29.1793 DEBUG Opened connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:24:29.1793 DEBUG Beginning transaction with isolation level 'Unspecified'.
2022-11-02 21:24:29.1793 DEBUG Began transaction with isolation level 'ReadCommitted'.
2022-11-02 21:24:29.1793 DEBUG Creating DbCommand for 'ExecuteReader'.
2022-11-02 21:24:29.1793 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2022-11-02 21:24:29.1793 DEBUG Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:24:29.1793 ERROR Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Createat], [Image], [IsArchive], [IsPin], [IsTrash], [Modifiedat], [Note], [Title], [userid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [NoteID]
FROM [Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2022-11-02 21:24:29.1919 DEBUG Disposing transaction.
2022-11-02 21:24:29.1919 DEBUG Closing connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:24:29.1919 DEBUG Closed connection to database 'FundooNotes' on server 'LAPTOP-6JI8E5DE\SQLEXPRESS'.
2022-11-02 21:24:29.1919 ERROR An exception occurred in the database while saving changes for context type 'RepositoryLayer.AppContext.UserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Notes_Users_userid". The conflict occurred in database "FundooNotes", table "dbo.Users", column 'UserId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:65b76457-7ef7-47fc-b682-a1956c3df684
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-11-02 21:24:29.3621 INFO Executed action method FundooNotes.Controllers.NotesController.AddNote (FundooNotes), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2309.4ms.
2022-11-02 21:24:29.3621 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:24:29.3621 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2022-11-02 21:24:29.3621 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:24:29.3621 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2022-11-02 21:24:29.3621 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:24:29.3621 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:24:29.3621 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:24:29.3621 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2022-11-02 21:24:29.3621 DEBUG No information found on request to perform content negotiation.
2022-11-02 21:24:29.3621 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-02 21:24:29.3621 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-02 21:24:29.3621 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-02 21:24:29.3621 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-02 21:24:29.3621 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2022-11-02 21:24:29.3621 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:24:29.3621 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2022-11-02 21:24:29.3621 INFO Executed action FundooNotes.Controllers.NotesController.AddNote (FundooNotes) in 2321.5003ms
2022-11-02 21:24:29.3621 INFO Executed endpoint 'FundooNotes.Controllers.NotesController.AddNote (FundooNotes)'
2022-11-02 21:24:29.3621 DEBUG 'UserContext' disposed.
2022-11-02 21:24:29.3621 INFO Request finished in 2354.928ms 400 application/json; charset=utf-8
